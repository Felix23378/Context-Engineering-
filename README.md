# Gemini CLI - Context Engineering Template

This template provides a structured, powerful workflow for using a local Gemini CLI to automate software development tasks. It is built on a "plan-and-execute" model that separates high-level goals from detailed implementation, allowing for more consistent and accurate results.

---

## Core Concepts

This system works in two main phases:

1.  **Generate a Plan:** You first define a task in a simple markdown file. A script then uses this definition to prompt the Gemini CLI to create a detailed, structured **Product Requirements Prompt (PRP)**.
2.  **Execute the Plan:** A second script sends the completed PRP to the Gemini CLI, but this time with instructions to generate the actual code changes. The script then interactively prompts you to approve and apply each change.

---

## File Structure

- `GEMINI.md`: Contains high-level, project-wide rules and conventions for the AI to follow.

- `INITIAL_<feature_name>.md`: **This is your starting point.** You create a new file with this naming convention to describe a new feature or task.

- `PRPs/`: An archive of all the detailed plans (PRPs) generated by the system.

- `.gemini/`: The engine of the template. Contains the core scripts and prompts.
    - `prp_base.md`: The master template for all generated plans (PRPs).
    - `generate-prp.sh`: The **Planner** script. It takes your `INITIAL` file and generates a detailed plan.
    - `run-prp.sh`: The **Executor** script. It takes a generated plan and produces code.
    - `prp_fill.prompt`: The instruction set that tells the AI *how* to be a good planner.
    - `run.prompt`: The instruction set that tells the AI *how* to be a good coder/executor.

- `src/`: A directory for your project's source code.

- `examples/`: A directory for code examples that can be referenced in your `INITIAL` files.

---

## Workflow: Step-by-Step Guide

Here is how to use the template to implement a new feature from scratch.

### Step 1: Define Your Feature

Create a new file in the root directory named `INITIAL_<feature_name>.md`. For example, `INITIAL_database_setup.md`.

Inside this file, describe the goal, provide examples, and list any requirements. The more detailed you are, the better the AI will understand the task.

### Step 2: Generate the Plan

Run the `generate-prp.sh` script, passing your chosen `<feature_name>` as an argument.

```bash
# Example:
bash .gemini/generate-prp.sh database_setup
```

This script will read your `INITIAL_database_setup.md` and create a new, detailed plan file named `PRPs/prp_database_setup.md`.

### Step 3: Execute the Plan

Now, use the `run-prp.sh` script to execute the plan you just generated.

```bash
# Example:
bash .gemini/run-prp.sh prp_database_setup.md
```

This script will send the plan to the AI, which will generate the necessary code changes. The script will then propose each change to you one by one, asking for your approval before modifying any files:

```
Gemini proposes to CREATE file: src/db/config.js
--- Code ---
...
------------
Apply this change? [y/n]
```

---

## Customization

You can change the behavior of the AI by editing the instruction files in the `.gemini/` directory:

-   **To change how plans are made:** Modify `.gemini/prp_fill.prompt`.
-   **To change how code is generated:** Modify `.gemini/run.prompt`.